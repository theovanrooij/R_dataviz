p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018"), aes(x=nbMatch,y=mean_rating))
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018"), aes(x=nbMatch,y=mean_rating))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018"), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(rating)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(adr)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch
name(df)
names(df)
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(adr)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018"), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(adr,na.rm = True)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(adr,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018"), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(rating,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "s1mple")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018"), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" and nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(kast,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(kpr,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
# df %>% filter(player_id == 8184) == ALEX DE VITA
names(df)
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(kills,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(rating,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 200)
length(unique(df["team"]))
length(unique(df$team))
head(df)
library(tidyr)
library(tidyverse)
library(dplyr)
library(lubridate)
df <- read.csv("players.csv")
nb_match_joueur_annee <- df %>% group_by(year(date),player_name,player_id) %>% summarise(nbMatch=n()) %>% arrange(desc(player_name))
names(nb_match_joueur_annee)[1]<- "Année"
nb_match_joueur_annee %>% filter(Année == "2018")
source("~/Cours/ESIEE/E4/Semestre 1/DSIA_4101C - R et Data Visualization/Projet/brouillon.R", encoding = 'UTF-8', echo=TRUE)
nb_match_joueur_annee %>% filter(Année == "2018")
nb_match_joueur_annee %>% filter(nbMatch > 100)
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "ZywOo"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "s1mple"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
rating_joueur_tournoi <- df %>% group_by(event_id,player_id,event_name,player_name) %>% summarise(mean_rating = mean(rating)) %>% arrange(desc(mean_rating))
rating_joueur_tournoi
rating_joueur_tournoi %>% filter(player_name == "s1mple")
rating_joueur_tournoi %>% filter(event_name == "ESEA MDL Season 30 Europe")
nb_match_tournoi <- df %>% group_by(event_name) %>% summarise(nbObservation=n()/10) %>% arrange(desc(nbObservation))
nb_match_tournoi
rating_pays <- df %>% group_by(country) %>% summarise(mean_rating = mean(rating)) %>% arrange(desc(mean_rating))
rating_pays
pays_tournois <- df %>% group_by(event_id,event_name,player_id,player_name,country) %>% summarise() %>% group_by(event_name,country) %>% summarise(nbRep = n())
pays_tournois
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(rating,na.rm = TRUE)) %>% arrange(desc(nbMatch))
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
df <- read.csv("players.csv")
nb_match_joueur_annee <- df %>% group_by(year(date),player_name,player_id) %>% summarise(nbMatch=n()) %>% arrange(desc(player_name))
names(df)
df <- as_tibble(read.csv("players.csv"))
results <- as_tibble(read.csv("results.csv"))
pivot1 <- result %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
pivot1
library(lubridate)
library(tidyr)
library(tidyverse)
pivot1 <- result %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
pivot1 <- results %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
pivot1
results <- as_tibble(read.csv("results.csv"))
results
pivot1 <- results %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
pivot1
pivot2 <- results %>% group_by(match_id) %>% summarise(opponent = team_2,rank_opponent = rank_2)
pivot2
df_merge <- as_tibble(merge(df,pivot1,by=c("match_id","team")))
df_merge
id_result <- unique(results$match_id)
length(id_result)
id_df <- unique(df$match_id)
length(id_df)
# Pas tous les ids de chaque table. Dans result, on retrouve des tournois peu populaire et pas dans players
diff <-setdiff(id_df,id_result)
length(diff)
pivot1
df_merge
df_merge$rank_team
pivot2
df_merge2 <- as_tibble(merge(df_merge,pivot2,by=c("match_id","opponent")))
df_merge2
df_merge2 %>% filter(event_name == "ECS Season 1")%>% group_by(match_id) %>% summarise(n=n())
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1"))[1:4,]
tibble(df %>% filter(event_name == "ECS Season 1"))[1:4,]
tibble(df_merge2 %>% filter(event_name == "ECS Season 1"))[1:4,]
tibble(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK"))[1:4,]
tibble(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 ))[1:4,]
tibble(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))[1:4,]
tibble(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "RPK-"))
tibble(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "RPK"))
tibble(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))
tibble(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))[1:4,]
tibble(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))
data.frame(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))
data.frame(df_merge %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))
df_merge2 <- as_tibble(merge(df,pivot2,by=c("match_id","opponent")))
df_merge2
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996 & player_name== "NBK-"))
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
data.frame(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
df_merge
df_merge <- (merge(df,pivot1,by=c("match_id","team")))
df_merge
event_missing_name <- head(df %>% filter(event_id %in% event_missing$event_id) %>% group_by(event_id,event_name) %>% summarise(),200)
event_missing <-result %>% filter(match_id %in% diff) %>% group_by(event_id,match_id) %>% summarise(n1 = 1) %>% group_by(event_id) %>% summarise(n2 = sum(n1)) %>% arrange(desc(n2))
event_missing <-results %>% filter(match_id %in% diff) %>% group_by(event_id,match_id) %>% summarise(n1 = 1) %>% group_by(event_id) %>% summarise(n2 = sum(n1)) %>% arrange(desc(n2))
event_missing_name <- head(df %>% filter(event_id %in% event_missing$event_id) %>% group_by(event_id,event_name) %>% summarise(),200)
# Pas tous les ids de chaque table. Dans result, on retrouve des tournois peu populaire et pas dans players
diff <-setdiff(id_df,id_result)
event_missing <-results %>% filter(match_id %in% diff) %>% group_by(event_id,match_id) %>% summarise(n1 = 1) %>% group_by(event_id) %>% summarise(n2 = sum(n1)) %>% arrange(desc(n2))
length(diff)
df %>% filter(event_name == "ECS Season 1") %>% group_by(match_id) %>% summarise(n=n())
data.frame(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
data.frame(df_merge %>% filter(event_name == "ECS Season 1" & match_id == 2301996)
unique(df_merge2$match_id)
data.frame(df %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
data.frame(df_merge %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
df_merge2 <- as_tibble(merge(df_merge,pivot2,by=c("match_id","opponent")))
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
authors <- data.frame(
## I(*) : use character columns of names to get sensible sort order
surname = I(c("Tukey", "Venables", "Tierney", "Ripley", "McNeil")),
nationality = c("US", "Australia", "US", "UK", "Australia"),
deceased = c("yes", rep("no", 4)))
authorN <- within(authors, { name <- surname; rm(surname) })
books <- data.frame(
name = I(c("Tukey", "Venables", "Tierney",
"Ripley", "Ripley", "McNeil", "R Core")),
title = c("Exploratory Data Analysis",
"Modern Applied Statistics ...",
"LISP-STAT",
"Spatial Statistics", "Stochastic Simulation",
"Interactive Data Analysis",
"An Introduction to R"),
other.author = c(NA, "Ripley", NA, NA, NA, NA,
"Venables & Smith"))
(m0 <- merge(authorN, books))
(m1 <- merge(authors, books, by.x = "surname", by.y = "name"))
m2 <- merge(books, authors, by.x = "name", by.y = "surname")
stopifnot(exprs = {
identical(m0, m2[, names(m0)])
as.character(m1[, 1]) == as.character(m2[, 1])
all.equal(m1[, -1], m2[, -1][ names(m1)[-1] ])
identical(dim(merge(m1, m2, by = NULL)),
c(nrow(m1)*nrow(m2), ncol(m1)+ncol(m2)))
})
## "R core" is missing from authors and appears only here :
merge(authors, books, by.x = "surname", by.y = "name", all = TRUE)
## example of using 'incomparables'
x <- data.frame(k1 = c(NA,NA,3,4,5), k2 = c(1,NA,NA,4,5), data = 1:5)
y <- data.frame(k1 = c(NA,2,NA,4,5), k2 = c(NA,NA,3,4,5), data = 1:5)
merge(x, y, by = c("k1","k2")) # NA's match
merge(x, y, by = "k1") # NA's match, so 6 rows
merge(x, y, by = "k2", incomparables = NA) # 2 rows
# }
## example of using 'incomparables'
x
y
df[5]
df[1:9]
df <- df[1:9]
pivot1 <- results %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
pivot1
pivot2 <- results %>% group_by(match_id) %>% summarise(opponent = team_2,rank_opponent = rank_2)
pivot2
df_merge <- (merge(df,pivot1,by=c("match_id","team")))
df_merge
pivot1 <- results %>% group_by(match_id,team_1) %>% summarise(team = team_1,rank_team = rank_1)
pivot1
df_merge <- as_tibble(merge(df,pivot1,by=c("match_id","team")))
df_merge
df_merge <- (merge(df,pivot1,by=c("match_id","team")))
df_merge
source("~/Cours/ESIEE/E4/Semestre 1/DSIA_4101C - R et Data Visualization/Projet/brouillon.R", encoding = 'UTF-8')
pivot1 <- results %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
pivot1
unique(pivot1$match_id)
length(unique(pivot1$match_id))
27254*2
View(results)
results %>%
dplyr::select(match_id, team_1, team_2, rank_1, rank_2)
df_merge <- (merge(df,pivot1,by=c("match_id","team")))
df_merge
length(diff)
df
pivot2
df_merge
df_merge2 <- as_tibble(merge(df_merge,pivot2,by=c("match_id","opponent")))
data.frame(df_merge2 %>% filter(event_name == "ECS Season 1" & match_id == 2301996))
rank
pivot <- pivot_longer(teams_rank, !c("match_id","rank_1","rank_2"), names_to = "team", values_to = "rank")
pivot
teams_rank <- results %>% dplyr::select(match_id, team_1, team_2, rank_1, rank_2)
pivot <- pivot_longer(teams_rank, !c("match_id","rank_1","rank_2"), names_to = "team", values_to = "rank")
pivot
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c("teams","rank"), values_to = c("team_name","rank_value"))
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c("teams","rank"))
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c("teams","rank"), names_pattern= "(.)(.)")
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value", "match_id"), , names_pattern= "(.)(.)")
pivot
names(teams_rank)
names(teams_rank) <- c("t1","t2","r1","r2")
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value", "match_id"), , names_pattern= "(.)(.)")
pivot
teams_rank = teams_rank.set_index('match_id')
rownames(teams_rank) <- teams_rank$teams_rank
teams_rank <- results %>% dplyr::select(match_id, team_1, team_2, rank_1, rank_2)
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
rownames(teams_rank) <- teams_rank$match_id
teams_rank <- results %>% dplyr::select(match_id, team_1, team_2, rank_1, rank_2) %>% group_by(match_id)
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
rownames(teams_rank) <- teams_rank$match_id
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value", "match_id"), , names_pattern= "(.)(.)")
teams_rank <- results %>% dplyr::select(match_id, team_1, team_2, rank_1, rank_2) %>% group_by(match_id) %>% summarise()
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
teams_rank
teams_rank <- results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
teams_rank
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
teams_rank
rownames(teams_rank) <- teams_rank$match_id
teams_rank
results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
teams_rank <- data.frame(results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise())
teams_rank
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
rownames(teams_rank) <- teams_rank$match_id
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value", "match_id"), , names_pattern= "(.)(.)")
pivot
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value", "match_id"), names_pattern= "(.)(.)")
pivot
teams_rank
teams_rank$match_id <- NULL
teams_rank
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value", "match_id"), names_pattern= "(.)(.)")
pivot
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value"), names_pattern= "(.)(.)")
pivot
pivot <- pivot_longer(teams_rank, everything(), names_to = c(".value"), names_pattern= "(.)")
pivot
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
teams_rank <- data.frame(results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise())
teams_rank
names(teams_rank) <- c("match_id","t1","t2","r1","r2")
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
pivot
names(teams_rank) <- c("match_id","team1","team2","rank1","rank2")
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
pivot
df_merge <- (merge(df,pivot1,by.x=c("match_id","team"),by.y("match_id","t")))
df_merge <- (merge(df,pivot1,by.x=c("match_id","team"),by.y=c("match_id","t")))
df_merge <- (merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t")))
df_merge
df_merge2 <- as_tibble(merge(df_merge,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
df_merge2
length(df_merge)
df_merge <- (merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t")))
length(df_merge)
dim(df_merge)
dil(df_merge2)
dim(df_merge2)
length(pivot)
dim(pivot)
length(unique(pivot$match_id))
dim(pivot)
dim(df_merge)
2*3
54490*5
df_merge <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"), all = TRUE )
dim(df_merge)
df_merge <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
dim(df_merge)
dim(df_merge2)
pivot1 <- results %>% group_by(match_id) %>% summarise(team = team_1,rank_team = rank_1)
dim(pivot)
length(unique(pivot$match_id))
df_merge2
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
df
df <- as_tibble(read.csv("players.csv"))
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
df
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(rating,na.rm = TRUE)) %>% arrange(desc(nbMatch))
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
# Nécessaire ID car plusieurs pseudo similaire (ALEX par exemple)
nb_match_joueur_annee <- df %>% group_by(year(date),player_name,player_id) %>% summarise(nbMatch=n()) %>% arrange(desc(nbMatch))
names(nb_match_joueur_annee)[1] <- "Année"
nb_match_joueur_annee
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "ZywOo"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
rating_joueur_tournoi <- df %>% group_by(event_name,event_id,player_name,player_id) %>% summarise(mean_rating = mean(rating)) %>% arrange(desc(mean_rating))
rating_joueur_tournoi %>% filter(event_name == "ESEA MDL Season 30 Europe")
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "blameF"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "sh0x"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "shOx"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "shox"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
rating_pays <- df %>% group_by(country) %>% summarise(mean_rating = mean(rating)) %>% arrange(desc(mean_rating))
rating_pays
min(result$rank_1)
min(results$rank_1)
max(results$rank_1)
median(results$rank_1)
names(df)
players$kddiff
df$kddiff
# On isole les joueurs par tounois puis pay pays pour avopir le nombre de représentant d chaque pays par tournoi
pays_tournois <- df %>% group_by(event_id,event_name,player_id,player_name,country) %>% summarise() %>% group_by(event_name,country) %>% summarise(nbRep = n())
pays_tournois
df %>% select (grepl(event_name, "Major", FIXED = TRUE))
df %>% select (grepl(event_name, "Major", fixed = TRUE))
df %>% select (event_name %contains% "Major")
df %>% filter(str_detect(event_name, 'Major'))
df
df %>% filter(str_detect(event_name, 'Major'))
unique(df %>% filter(str_detect(event_name, 'Major')))
unique(df %>% filter(str_detect(event_name, 'Major'))$event_name)
unique((df %>% filter(str_detect(event_name, 'Major')))$event_name)
MAJORS = c("StarLadder Berlin Major 2019","IEM Katowice Major 2019","FACEIT Major: London 2018","ELEAGUE Major: Boston 2018","PGL Major: Kraków 2017")
unique((df %>% filter(event_name %in% MAJORS)))
df
unique((df %>% filter(event_name %in% MAJORS)))
unique((df %>% filter(event_name %in% MAJORS))$event_name)
unique((df %>% filter(event_name =="PGL Major: Kraków 2017"))$event_name)
df %>% filter(event_name =="PGL Major: Kraków 2017")
df %>% filter(event_name =="StarLadder Major Berlin 2019")
df %>% filter(event_name %in% MAJORS)
MAJORS <- c("StarLadder Berlin Major 2019","IEM Katowice Major 2019","FACEIT Major: London 2018","ELEAGUE Major: Boston 2018","PGL Major: Kraków 2017")
unique((df %>% filter(event_name =="PGL Major: Kraków 2017"))$event_name)
df %>% filter(event_name %in% MAJORS)
unique(df$event_name)
which(unique(df$event_name) %in% MAJORS)
MAJORS <- c("StarLadder Berlin Major 2019","IEM Katowice Major 2019","FACEIT Major: London 2018","ELEAGUE Major: Boston 2018","PGL Major: Kraków 2017")
MAJORS
source("~/Cours/ESIEE/E4/Semestre 1/DSIA_4101C - R et Data Visualization/Projet/brouillon.R", encoding = 'UTF-8')
ls
dir
library(lubridate)
library(tidyr)
library(tidyverse)
df <- as_tibble(read.csv("players.csv"))
results <- as_tibble(read.csv("results.csv"))
teams_rank <- results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
df
loadData <- function(){
df <- as_tibble(read.csv("players.csv"))
results <- as_tibble(read.csv("results.csv"))
teams_rank <- results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
return df
}
loadData <- function(){
df <- as_tibble(read.csv("players.csv"))
results <- as_tibble(read.csv("results.csv"))
teams_rank <- results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
return(df)
}
df = loadDate()
df = loadData()
loadData <- function(){
df <- as_tibble(read.csv("players.csv"))
results <- as_tibble(read.csv("results.csv"))
teams_rank <- results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
return(df)
}
df <- loadData()
library(lubridate)
library(tidyr)
library(tidyverse)
loadData <- function(){
df <- as_tibble(read.csv("players.csv"))
results <- as_tibble(read.csv("results.csv"))
teams_rank <- results %>% group_by(match_id, team_1, team_2, rank_1, rank_2) %>% summarise()
pivot <- pivot_longer(teams_rank, !c("match_id"), names_to = c(".value"), names_pattern= "(.)")
df <- merge(df,pivot,by.x=c("match_id","team"),by.y=c("match_id","t"))
df <- as_tibble(merge(df,pivot,by.x=c("match_id","opponent"),by.y=c("match_id","t")))
return(df)
}
df <- loadData()
df
rating_moyen_joueur_année_nbMatch <- df %>% group_by(year(date),player_id,player_name) %>% summarise(nbMatch = n(),mean_rating = mean(rating,na.rm = TRUE)) %>% arrange(desc(nbMatch))
rating_moyen_joueur_année_nbMatch %>% filter(player_name == "ZywOo")
names(rating_moyen_joueur_année_nbMatch)[1]<- "Année"
rating_moyen_joueur_année_nbMatch
p <- ggplot(rating_moyen_joueur_année_nbMatch %>% filter(Année == "2018" && nbMatch > 70), aes(x=nbMatch,y=mean_rating))
p <- p + geom_point()
p
# Nécessaire ID car plusieurs pseudo similaire (ALEX par exemple)
nb_match_joueur_annee <- df %>% group_by(year(date),player_name,player_id) %>% summarise(nbMatch=n()) %>% arrange(desc(nbMatch))
nb_match_joueur_annee
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "ZywOo"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
# Nécessaire ID car plusieurs pseudo similaire (ALEX par exemple)
nb_match_joueur_annee <- df %>% group_by(year(date),player_name,player_id) %>% summarise(nbMatch=n()) %>% arrange(desc(nbMatch))
names(nb_match_joueur_annee)[1]<- "Année"
nb_match_joueur_annee
p <- ggplot(nb_match_joueur_annee %>% filter(player_name == "ZywOo"), aes(x=Année,y=nbMatch))
p <- p + geom_line()
p
# Division par 10 car 10 observations par équipe (5 joueurs par équipe)
nb_match_tournoi <- df %>% group_by(event_name) %>% summarise(nbObservation=n()/10) %>% arrange(desc(nbObservation))
# Division par 10 car 10 observations par match (5 joueurs par équipe)
nb_match_tournoi <- df %>% group_by(event_name) %>% summarise(nbObservation=n()/10) %>% arrange(desc(nbObservation))
nb_match_tournoi
rating_joueur_tournoi <- df %>% group_by(event_name,event_id,player_name,player_id) %>% summarise(mean_rating = mean(rating)) %>% arrange(desc(mean_rating))
rating_joueur_tournoi %>% filter(event_name == "ESEA MDL Season 30 Europe")
rating_pays <- df %>% group_by(country) %>% summarise(mean_rating = mean(rating)) %>% arrange(desc(mean_rating))
rating_pays
# On isole les joueurs par tournois puis par pays pour avoir le nombre de représentant de chaque pays par tournoi
pays_tournois <- df %>% group_by(event_id,event_name,player_id,player_name,country) %>% summarise() %>% group_by(event_name,country) %>% summarise(nbRep = n())
pays_tournois
